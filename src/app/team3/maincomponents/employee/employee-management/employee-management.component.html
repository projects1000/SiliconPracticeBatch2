<div class="employee-management">
  <!-- Header Section -->
  <div class="header-section">
    <h1>Employee Management</h1>
    
   

  <!-- Controls Section -->
  <div class="controls">
    <div class="search-box">
      <input 
        type="text" 
        [(ngModel)]="searchTerm" 
        (input)="onSearchChange()"
        placeholder="Search employees by name, department, role, or email..."
        class="search-input">
    </div>
    
    <div class="action-buttons">
      <!-- Admin Only Actions -->
      <button 
        *ngIf="isAdmin"
        (click)="addEmployee()" 
        class="btn btn-primary">
        <span class="btn-icon">‚ûï</span>
        Add Employee
      </button>
      
      <!-- View Counter -->
      <div class="employee-count">
        {{filteredEmployees.length}} of {{employees.length}} employees
      </div>
    </div>
  </div>

  <!-- Employee Form (Admin Only) -->
  <div *ngIf="showEmployeeForm && isAdmin" class="form-section">
    <app-employee-form
      [employee]="selectedEmployee"
      [isEditMode]="isEditMode"
      (save)="onEmployeeSaved($event)"
      (cancel)="onFormCancel()">
    </app-employee-form>
  </div>

  <!-- Employee Table -->
  <div class="table-container" *ngIf="!showEmployeeForm">
    <table class="employee-table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Age</th>
          <th>Role</th>
          <th>Department</th>
          <th>Email</th>
          <th>Salary</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr 
          *ngFor="let employee of filteredEmployees" 
          [ngClass]="getRowClass(employee)">
          
          
          <td class="employee-name">
            <div class="name-wrapper">
              <span class="avatar"></span>
              {{employee.name}}
              <span *ngIf="isMinor(employee.age)" class="minor-indicator">üë∂</span>
            </div>
          </td>
          <td class="employee-age">{{employee.age}}</td>
          <td class="employee-role">{{employee.role}}</td>
          <td class="employee-department">
            <span class="dept-badge">{{employee.department}}</span>
          </td>
          <td class="employee-email">{{employee.email}}</td>
          <td class="employee-salary">
            {{employee.salary?.toLocaleString()}}
          </td>
          
          
          <td class="employee-actions">
            <!-- Edit Button (Admin Only) -->
            <button 
              *ngIf="isAdmin"
              (click)="editEmployee(employee)"
              class="btn-action btn-edit"
              title="Edit Employee">
              ‚úèÔ∏è
            </button>
            
            <!-- Delete Button (Admin Only) -->
            <button 
              *ngIf="isAdmin"
              (click)="deleteEmployee(employee)"
              class="btn-action btn-delete"
              title="Delete Employee">
              üóëÔ∏è
            </button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Empty State -->
    <div *ngIf="filteredEmployees.length === 0" class="empty-state">
      <div class="empty-icon">üìù</div>
      <h3>No Employees Found</h3>
      <p *ngIf="searchTerm">
        No employees match your search for "{{searchTerm}}"
      </p>
      <p *ngIf="!searchTerm">
        No employees available in the system.
        <span *ngIf="isAdmin">Click "Add Employee" to get started.</span>
      </p>
    </div>
  </div>

  <!-- Summary Section -->
  <div class="summary" *ngIf="!showEmployeeForm">
    <div class="summary-item">
      <strong>Total Employees:</strong> {{employees.length}}
    </div>
    <div class="summary-item">
      <strong>Adult Employees:</strong> {{getAdultCount()}}
    </div>
    <div class="summary-item minor-count">
      <strong>Minor Employees:</strong> {{getMinorCount()}}
    </div>
    <div class="summary-item">
      <strong>Your Access:</strong> 
      <span [class]="isAdmin ? 'access-admin' : 'access-customer'">
        {{isAdmin ? 'Full Administrator' : 'View Only'}}
      </span>
    </div>
  </div>
</div>